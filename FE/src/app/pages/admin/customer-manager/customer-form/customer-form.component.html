<div class="customer-form-title card-title">
    <h6 class="main-content-label text-center" style="font-size: 16px;">{{ title }}</h6>
    <!--    <span class="fa-solid fa-xmark icon-close" style="font-size: 16px; cursor: pointer; float: right"-->
    <!--          (click)="onDismiss()"></span>-->
</div>
<div class="card-body">
    <form class="mb-0">
        <div class="row" [formGroup]="formGroup">
            <div class="col-4">
                <ngx-dropzone
                        *ngIf="!avatarUrlEdit"
                        class="custom-dropzone"
                        ngx-dropzone
                        [accept]="'image/*'"
                        (change)="onChangeAvatar($event)"
                        [multiple]="false"
                >
                    <ngx-dropzone-label>
                        <div>
                            <h5>Hình ảnh</h5>
                        </div>
                    </ngx-dropzone-label>
                    <ng-container>
                        <ngx-dropzone-image-preview
                                ngProjectAs="ngx-dropzone-preview"
                                *ngFor="let f of avatarFile"
                                [file]="f"
                                [removable]="true"
                                (removed)="onRemove(f)"

                        >
                        </ngx-dropzone-image-preview>
                    </ng-container>
                </ngx-dropzone>
                <img [src]="this.avatarUrlEdit" alt="" class="avt-preview">
            </div>
            <div class="col-8">
                <mat-form-field class="w-100" appearance="outline">
                    <mat-label>Tên khách hàng</mat-label>
                    <input type="text" matInput cdkFocusInitial formControlName="fullname">
                    <mat-error class="text-danger"
                               *ngIf="formGroup.get('fullname')?.hasError('required') &&
                                      formGroup.get('fullname')?.touched">
                        Tên khách hàng không được để trống
                    </mat-error>
                </mat-form-field>

                <mat-form-field class="w-100" appearance="outline">
                    <mat-label>Email</mat-label>
                    <input type="text" matInput formControlName="email">
                    <mat-error class="text-danger"
                               *ngIf="formGroup.get('email')?.hasError('required') &&
                                      formGroup.get('email')?.touched">
                        Email không được để trống
                    </mat-error>
                    <mat-error class="text-danger"
                               *ngIf="formGroup.get('email')?.hasError('pattern') &&
                                      formGroup.get('email')?.touched">
                        Email không đúng định dạng
                    </mat-error>
                </mat-form-field>

                <mat-form-field class="w-100" appearance="outline">
                    <mat-label>Mật khẩu</mat-label>
                    <input type="password" matInput formControlName="password" autocomplete="off">
                    <mat-error class="text-danger"
                               *ngIf="formGroup.get('password')?.hasError('required') &&
                                      formGroup.get('password')?.touched">
                        Mật khẩu không được để trống
                    </mat-error>
                </mat-form-field>

                <mat-form-field class="w-100" appearance="outline">
                    <mat-label>SĐT</mat-label>
                    <input type="text" matInput formControlName="phone">
                    <mat-error class="text-danger"
                               *ngIf="formGroup.get('phone')?.hasError('required') &&
                                      formGroup.get('phone')?.touched">
                        Số điện thoại không được để trống
                    </mat-error>
                    <mat-error class="text-danger"
                               *ngIf="formGroup.get('phone')?.hasError('pattern') &&
                                      formGroup.get('phone')?.touched">
                        Số điện thoại không đúng định dạng
                    </mat-error>
                </mat-form-field>

                <mat-form-field class="w-100" appearance="outline">
                    <mat-label>Ngày sinh</mat-label>
                    <input matInput
                           [matDatepicker]="picker"
                           formControlName="birthDate">
                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                    <mat-error class="text-danger"
                               *ngIf="formGroup.get('birthDate')?.hasError('required') &&
                                  formGroup.get('birthDate')?.touched">
                        Ngày sinh không được để trống
                    </mat-error>
                </mat-form-field>

                <div class="form-group d-flex">
                    <mat-label>Trạng thái</mat-label>
                    <mat-radio-group formControlName="status">
                        <mat-radio-button [value]="1" class="ml-4">
                            Hoạt động
                        </mat-radio-button>
                        <mat-radio-button [value]="0" class="ml-4">
                            Không hoạt động
                        </mat-radio-button>
                    </mat-radio-group>
                </div>

                <div class="action-button mt-3 d-flex justify-content-end">
                    <button type="button" mat-raised-button color="warn" class="mr-3" (click)="onDismiss()">
                        <span><span class="fe fe-x mg-r-2"></span>Đóng</span>
                    </button>
                    <button type="button" mat-raised-button color="primary" (click)="save()">
                        <span>
                            <i *ngIf="isLoadingButton" class="fa fa-spinner fa-spin"></i>
                            Lưu
                        </span>
                    </button>
                </div>
            </div>
        </div>
    </form>
</div>
